/*C12*/SET SCHEMA PUBLIC
drop table account if exists
drop table statistic if exists
drop table url_mapping if exists
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table account (account_id varchar(255) not null, password varchar(255), roles varbinary(255), primary key (account_id))
create table statistic (id bigint not null, account_id varchar(255), counter integer not null, short_url varchar(255), primary key (id))
create table url_mapping (id bigint not null, access_counter integer not null, redirect_type integer not null, short_url varchar(255), url varchar(255), primary key (id))
alter table statistic add constraint UKm86x0bmjin4q1yoepy293wblw unique (account_id, short_url)
alter table url_mapping add constraint UK4ko4wsgknpxotxwvv5y3lwd8g unique (short_url)
INSERT INTO ACCOUNT VALUES('usr','A95U9nRx','aced0005757200135b4c6a6176612e6c616e672e537472696e673badd256e7e91d7b4702000078700000000174000455534552')
COMMIT
INSERT INTO URL_MAPPING VALUES(1,0,302,'v84JsJ','https://stackoverflow.com/questions/3126769/uniqueconstraint-annotation-in-java')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO STATISTIC VALUES(2,'usr',1,'v84JsJ')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
DELETE FROM STATISTIC WHERE ID=2
INSERT INTO STATISTIC VALUES(2,'usr',2,'v84JsJ')
COMMIT
drop table account if exists
drop table statistic if exists
drop table url_mapping if exists
drop sequence hibernate_sequence if exists
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
